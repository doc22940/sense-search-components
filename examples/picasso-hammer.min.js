/**
 * picasso-plugin-hammer v0.5.3
 * Copyright (c) 2018 QlikTech International AB
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.picassoHammer=n()}(this,function(){"use strict";function e(e){return t[e]||e}function n(n,t,o){function i(){"function"==typeof s.enable&&(s.enable=s.enable.bind(a)()),s.enable&&(s.gestures.forEach(function(n){n.options=n.options||{},void 0===n.options.enable&&(n.options.enable=!0),"function"==typeof n.options.enable&&(n.options.enable=n.options.enable.bind(a));var t=e(n.type);Hammer&&Hammer[t]&&(n.options.event=n.options.event||n.type.toLowerCase(),(u=u||new Hammer.Manager(o)).add(new Hammer[t](n.options)),Object.keys(n.events).forEach(function(e){n.events[e]=n.events[e].bind(a),u.on(e,n.events[e])}),f.push(n))}),s.gestures.forEach(function(n){var t=e(n.type);Hammer&&Hammer[t]&&(n.recognizeWith&&u.get(n.options.event).recognizeWith(n.recognizeWith.split(" ").filter(function(e){return""!==e})),n.requireFailure&&u.get(n.options.event).requireFailure(n.requireFailure.split(" ").filter(function(e){return""!==e})))}))}function r(){f.forEach(function(e){Object.keys(e.events).forEach(function(n){u.off(n,e.events[n])}),u.remove(e.options.event)}),f=[]}var s=void 0,a=void 0,u=void 0,c=void 0,f=[],p=!0;return{get key(){return c},set:function(e){!function(e){c=e.key,a={chart:n,mediator:t,settings:s=e},s.gestures=s.gestures||[],void 0===s.enable&&(s.enable=!0)}(e),r(),p&&i()},off:function(){p=!1,r()},on:function(){p=!0,0===f.length&&i()},destroy:function(){r(),u&&u.destroy(),u=null,a=null,s=null}}}var t={click:"Tap",Click:"Tap",tap:"Tap",pan:"Pan",swipe:"Swipe",rotate:"Rotate",press:"Press",pinch:"Pinch"};return function(e){e.interaction("hammer",n)}});
